#:import NoTransition kivy.uix.screenmanager.NoTransition

<RoundedButton@Button>:
    background_color: (0,0,0,0)
    background_normal: ""
    background_active: ""
    backgroundColorNormal: (0,0,1,1)
    backgroundColorActive: (0,1,0,1)
    border_radius: [18]
    canvas.before:
        Color:
            rgba: self.backgroundColorNormal if self.state == "normal" else self.backgroundColorActive
        RoundedRectangle:
            size: self.size
            pos: self.pos
            radius: self.border_radius



WindowManager:
    WelcomeScreen:
    PackageSelectionScreen:
    Package1Screen:


<WelcomeInterface>:
    size_hint: None, None

    facilities: facilities
    biomed: biomed
    clinicalServices: clinicalServices
    pharmacy: pharmacy
    nursing: nursing
    lab: lab
    it: it
    cSuite: cSuite

    RelativeLayout:
        pos: self.parent.pos
        size: self.parent.size

        BoxLayout:
            canvas.before:
                Color:
                    rgba: 1,1,1,1
                RoundedRectangle:
                    pos: self.pos
                    size: self.size
            size: self.parent.size
            orientation: "horizontal"

            spacing: 5

            Label:
                size_hint: .05, 1
                text: ""

            GridLayout:
                size_hint: .9, 1
                cols:1
                spacing: 7

                Label:
                    size_hint: 1, .1
                    text: "Welcome to the Sense Subscription Configuration App!"
                    font_size: self.height * .45
                    color: 0,0,0,1

                Label:
                    size_hint: 1, .05
                    text: ""

                BoxLayout:
                    size_hint: 1, .16
                    orientation: "horizontal"

                    GridLayout:
                        size_hint: .45, 1
                        cols: 2

                        Label:
                            text: "Site Name"
                            text_size: self.size
                            halign: "left"
                            color: 0,0,0,1

                        TextInput:
                            id: siteName
                            multiline: False
                            background_normal: "White.png"
                            background_active: "White.png"
                            cursor_color: 0,0,0,1
                            foreground_color: 0,0,0,1

                        Label:
                            text: "Bed Size of Site"
                            text_size: self.size
                            halign: "left"
                            color: 0,0,0,1

                        TextInput:
                            id: bedSize
                            text_size: self.size
                            multiline: False
                            background_normal: "White.png"
                            background_active: "White.png"
                            cursor_color: 0,0,0,1
                            foreground_color: 0,0,0,1

                        Label:
                            text: "Key Site Contact"
                            text_size: self.size
                            halign: "left"
                            color: 0,0,0,1

                        TextInput:
                            id: keySiteContact
                            multiline: False
                            background_normal: "White.png"
                            background_active: "White.png"
                            cursor_color: 0,0,0,1
                            foreground_color: 0,0,0,1

                    Label:
                        size_hint: .6, 1
                        text: ""

                Label:
                    size_hint: 1, .04
                    text: ""

                Label:
                    size_hint: 1, .1
                    text: "Departments Involved"
                    text_size: self.size
                    halign: "left"
                    color: 0,0,0,1

                BoxLayout:
                    size_hint: 1, .3
                    orientation: "horizontal"

                    GridLayout:
                        size_hint: .45, 1
                        cols: 2

                        CheckBox:
                            size_hint: .1, 1
                            id: facilities
                            color: 0,0,0,1

                        Label:
                            size_hint: .9, 1
                            markup: True
                            text: "[ref=facilities]Facilties[/ref]"
                            text_size: self.size
                            halign: "left"
                            color: 0,0,0,1
                            on_ref_press:
                                root.facilitiesBox()

                        CheckBox:
                            size_hint: .1, 1
                            id: biomed
                            color: 0,0,0,1

                        Label:
                            size_hint: .9, 1
                            markup: True
                            text: "[ref=biomed]Biomed[/ref]"
                            text_size: self.size
                            halign: "left"
                            color: 0,0,0,1
                            on_ref_press:
                                root.biomedBox()

                        CheckBox:
                            size_hint: .1, 1
                            id: clinicalServices
                            color: 0,0,0,1

                        Label:
                            size_hint: .9, 1
                            markup: True
                            text: "[ref=cs]Clinical Services[/ref]"
                            text_size: self.size
                            halign: "left"
                            color: 0,0,0,1
                            on_ref_press:
                                root.clinicalServicesBox()

                        CheckBox:
                            size_hint: .1, 1
                            id: pharmacy
                            color: 0,0,0,1

                        Label:
                            size_hint: .9, 1
                            markup: True
                            text: "[ref=pharmacy]Pharmacy[/ref]"
                            text_size: self.size
                            halign: "left"
                            color: 0,0,0,1
                            on_ref_press:
                                root.pharmacyBox()

                        CheckBox:
                            size_hint: .1, 1
                            id: nursing
                            color: 0,0,0,1

                        Label:
                            size_hint: .9, 1
                            markup: True
                            text: "[ref=nursing]Nursing[/ref]"
                            text_size: self.size
                            halign: "left"
                            color: 0,0,0,1
                            on_ref_press:
                                root.nursingBox()

                        CheckBox:
                            size_hint: .1, 1
                            id: lab
                            color: 0,0,0,1

                        Label:
                            size_hint: .9, 1
                            markup: True
                            text: "[ref=lab]Lab[/ref]"
                            text_size: self.size
                            halign: "left"
                            color: 0,0,0,1
                            on_ref_press:
                                root.labBox()

                        CheckBox:
                            size_hint: .1, 1
                            id: it
                            color: 0,0,0,1

                        Label:
                            size_hint: .9, 1
                            markup: True
                            text: "[ref=it]IT[/ref]"
                            text_size: self.size
                            halign: "left"
                            color: 0,0,0,1
                            on_ref_press:
                                root.itBox()

                        CheckBox:
                            size_hint: .1, 1
                            id: cSuite
                            color: 0,0,0,1

                        Label:
                            size_hint: .9, 1
                            markup: True
                            text: "[ref=suite]C-suite[/ref]"
                            text_size: self.size
                            halign: "left"
                            color: 0,0,0,1
                            on_ref_press:
                                root.cSuiteBox()

                    Label:
                        size_hint: .55, 1
                        text: ""

                Label:
                    size_hint: 1, .07
                    text: ""

                BoxLayout:
                    size_hint: 1, .07
                    orientation: "horizontal"

                    Label:
                        size_hint: .42, 1
                        text: ""

                    Button:
                        size_hint: .16, 1
                        text: "Next"
                        background_normal: ""
                        background_down: ""
                        background_color: (0.3803921568627451, 0.6784313725490196, 0.2627450980392157, 1) if self.state == "normal" else (0.2803921568627451, 0.5784313725490196, 0.1627450980392157, 1)
                        on_release:
                            app.root.transition = NoTransition()
                            app.root.current = "PackageSelectionScreen"

                    Label:
                        size_hint: .42, 1
                        text: ""

                Label:
                    size_hint: 1, .06
                    text: ""


            Label:
                size_hint: .05, 1
                text: ""

<WelcomeBackground>:
    AnchorLayout:
        canvas.before:
            Color:
                rgba: 0.23921568627450981, 0.5137254901960784, 0.7254901960784313, 1
            Rectangle:
                pos: self.pos
                size: self.size
        size: self.parent.size
        anchor_x: 'center'
        anchor_y: 'center'
        WelcomeInterface:
            id: interface
            size_hint: .9,.9

<WelcomeScreen>:
    name: "WelcomeScreen"
    FloatLayout:
        WelcomeBackground:
            id: background
            center: 0.5, 0.5



<PackageSelectionInterface>:
    size_hint: None, None

    options: options
    spacer: spacer

    RelativeLayout:
        pos: self.parent.pos
        size: self.parent.size

        BoxLayout:
            canvas.before:
                Color:
                    rgba: 1,1,1,1
                RoundedRectangle:
                    pos: self.pos
                    size: self.size
            size: self.parent.size
            orientation: "horizontal"

            spacing: 5

            Widget:
                size_hint: .05, 1

            BoxLayout:
                size_hint: .9, 1
                orientation: "vertical"

                Label:
                    size_hint: 1, .1
                    text: "Package Selection"
                    text_size: self.size
                    halign: "left"
                    font_size: self.height * .5
                    color: 0,0,0,1

                Widget:
                    size_hint: 1, .1

                BoxLayout:
                    size_hint: 1, .06
                    orientation: "horizontal"

                    Button:
                        size_hint: .54, 1
                        font_size: self.height * .47
                        text: "I'd like to answer some questions to select a plan"
                        background_normal: ""
                        background_down: ""
                        background_color: (0.3803921568627451, 0.6784313725490196, 0.2627450980392157, 1) if self.state == "normal" else (0.2803921568627451, 0.5784313725490196, 0.1627450980392157, 1)

                    Widget:
                        size_hint: .48, 1

                Widget:
                    size_hint: 1, .02

                BoxLayout:
                    size_hint: 1, .06
                    orientation: "horizontal"

                    Button:
                        size_hint: .4, 1
                        font_size: self.height * .47
                        text: "I know what plan to propose already"
                        background_normal: ""
                        background_down: ""
                        background_color: (0.3803921568627451, 0.6784313725490196, 0.2627450980392157, 1) if self.state == "normal" else (0.2803921568627451, 0.5784313725490196, 0.1627450980392157, 1)
                        on_release:
                            root.showOptions()

                    Widget:
                        size_hint: .6, 1

                Widget:
                    size_hint: 1, .21

                BoxLayout:
                    id: options
                    size_hint: 1, None
                    height: 0
                    orientation: "horizontal"
                    spacing: 5

                    RoundedButton:
                        size_hint: .25, 1
                        text_size : self.width, None
                        height: self.texture_size[1]
                        pos_hint: {'top': 1}
                        halign: "center"
                        valign: "center"
                        backgroundColorNormal: 0.3803921568627451, 0.6784313725490196, 0.2627450980392157, 1
                        backgroundColorActive: 0.2803921568627451, 0.5784313725490196, 0.1627450980392157, 1
                        text: "ONE\nSimplest package - meets compliance needs, basic protection against loss with world-class solution"
                        on_release:
                            app.root.current = "Package1Screen"

                    RoundedButton:
                        size_hint: .25, 1
                        text_size : self.width, None
                        height: self.texture_size[1]
                        pos_hint: {'top': 1}
                        halign: "center"
                        valign: "center"
                        backgroundColorNormal: 0.3803921568627451, 0.6784313725490196, 0.2627450980392157, 1
                        backgroundColorActive: 0.2803921568627451, 0.5784313725490196, 0.1627450980392157, 1
                        text: "TWO\nPackage that requires greatest site expertise to manage flexibility of package. Adds phone/SMS, flexibility in reports and settings"

                    RoundedButton:
                        size_hint: .25, 1
                        text_size : self.width, None
                        height: self.texture_size[1]
                        pos_hint: {'top': 1}
                        halign: "center"
                        valign: "center"
                        backgroundColorNormal: 0.3803921568627451, 0.6784313725490196, 0.2627450980392157, 1
                        backgroundColorActive: 0.2803921568627451, 0.5784313725490196, 0.1627450980392157, 1
                        text: "CHOICE\nFull-service package with best customer experience, exclusive upgrades (like Active Directory), proactive service, and full customization"

                    RoundedButton:
                        size_hint: .25, 1
                        text_size : self.width, None
                        height: self.texture_size[1]
                        pos_hint: {'top': 1}
                        halign: "center"
                        valign: "center"
                        backgroundColorNormal: 0.3803921568627451, 0.6784313725490196, 0.2627450980392157, 1
                        backgroundColorActive: 0.13921568627450981, 0.4137254901960784, 0.6254901960784313, 1
                        text: "EXCLUSIVE\nEnterprise level packages are not supported in this app and need to be configured offline at this time"

                Widget:
                    id: spacer
                    size_hint: 1, .45


            Widget:
                size_hint: .05, 1

<PackageSelectionBackground>:
    AnchorLayout:
        canvas.before:
            Color:
                rgba: 0.23921568627450981, 0.5137254901960784, 0.7254901960784313, 1
            Rectangle:
                pos: self.pos
                size: self.size
        size: self.parent.size
        anchor_x: 'center'
        anchor_y: 'center'
        PackageSelectionInterface:
            id: interface
            size_hint: .9,.9

<PackageSelectionScreen>:
    name: "PackageSelectionScreen"
    FloatLayout:
        PackageSelectionBackground:
            id: background
            center: 0.5, 0.5



<Package1Interface>:
    size_hint: None, None

    RelativeLayout:
        pos: self.parent.pos
        size: self.parent.size

        BoxLayout:
            canvas.before:
                Color:
                    rgba: 1,1,1,1
                RoundedRectangle:
                    pos: self.pos
                    size: self.size
            size: self.parent.size
            orientation: "horizontal"

            spacing: 5

            Widget:
                size_hint: .05, 1

            BoxLayout:
                size_hint: .9, 1
                orientation: "vertical"

                Label:
                    size_hint: 1, .1
                    text_size: self.size
                    halign: "left"
                    markup: True
                    text: "[b]Package ONE[/b]"
                    font_size: self.height * .43
                    color: 0,0,0,1

                Label:
                    size_hint: 1, .15
                    text_size: self.size
                    halign: "left"
                    markup: True
                    text: "Package ONE is a great selection for sites who are just starting out (i.e. replacing pen and paper recordings), who have minimal risk of compliance or loss events or who are very price sensitive."
                    font_size: self.height * .2
                    color: 0,0,0,1

                Label:
                    size_hint: 1, .1
                    text_size: self.size
                    halign: "left"
                    markup: True
                    text: "[b]Email Alerts[/b] let users know if a refrigerator, operating room, or equipment room is having a problem so[color=0000AA] users can act quickly to protect against spoiled vaccines or unsafe room conditions.[/color]"
                    font_size: self.height * .29
                    color: 0,0,0,1

                Label:
                    size_hint: 1, .1
                    text_size: self.size
                    halign: "left"
                    markup: True
                    text: "[b]Alert Resolutions[/b] offer the ability to[color=0000AA] document corrective actions or remind users of policies[/color] when responding to alerts. (Managers can even access which alerts need to be documented!)"
                    font_size: self.height * .29
                    color: 0,0,0,1

                Label:
                    size_hint: 1, .13
                    text_size: self.size
                    halign: "left"
                    markup: True
                    text: "The[b] Asset Summary Report[/b] enables sites to[color=0000AA] easily present the data collected to regulatory agencies to demonstrate compliance.[/color] (For temperature sensors, the[b] Probe Replacement Report[/b] is also available.)"
                    font_size: self.height * .22
                    color: 0,0,0,1

                Label:
                    size_hint: 1, .13
                    text_size: self.size
                    halign: "left"
                    markup: True
                    text: "Full access summary to the[b] OneVue Dashboard[/b] offers[color=0000AA] peace of mind to assess any problems at a glance.[/color] Detailed pages list assets and sensors and link to[b] Graphs of Readings History[/b] to[color=0000AA] assess trends or warning signs.[/color]"
                    font_size: self.height * .22
                    color: 0,0,0,1

                Widget:
                    size_hint: 1, .18

                BoxLayout:
                    size_hint: 1, .06
                    orientation: "horizontal"

                    Button:
                        size_hint: .47, 1
                        text: "Confirm - This is the right package!"
                        font_size: self.height * .52
                        background_normal: ""
                        background_down: ""
                        background_color: (0.3803921568627451, 0.6784313725490196, 0.2627450980392157, 1) if self.state == "normal" else (0.2803921568627451, 0.5784313725490196, 0.1627450980392157, 1)
                        on_release:
                            app.root.transition = NoTransition()
                            app.root.current = "PackageSelectionScreen"

                    Widget:
                        size_hint: .06, 1

                    Button:
                        size_hint: .47, 1
                        text: "Go back to Package Selction."
                        font_size: self.height * .52
                        background_normal: ""
                        background_down: ""
                        background_color: (0.3803921568627451, 0.6784313725490196, 0.2627450980392157, 1) if self.state == "normal" else (0.2803921568627451, 0.5784313725490196, 0.1627450980392157, 1)
                        on_release:
                            app.root.transition = NoTransition()
                            app.root.current = "PackageSelectionScreen"

                Widget:
                    size_hint: 1, .05

            Widget:
                size_hint: .05, 1

<Package1Background>:
    AnchorLayout:
        canvas.before:
            Color:
                rgba: 0.23921568627450981, 0.5137254901960784, 0.7254901960784313, 1
            Rectangle:
                pos: self.pos
                size: self.size
        size: self.parent.size
        anchor_x: 'center'
        anchor_y: 'center'
        Package1Interface:
            id: interface
            size_hint: .9,.9

<Package1Screen>:
    name: "Package1Screen"
    FloatLayout:
        Package1Background:
            id: background
            center: 0.5, 0.5