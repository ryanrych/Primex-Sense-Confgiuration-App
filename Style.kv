#:import NoTransition kivy.uix.screenmanager.NoTransition

<RoundedButton@Button>:
    background_color: (0,0,0,0)
    background_normal: ""
    background_active: ""
    backgroundColorNormal: (0,0,1,1)
    backgroundColorActive: (0,1,0,1)
    border_radius: [18]
    canvas.before:
        Color:
            rgba: self.backgroundColorNormal if self.state == "normal" else self.backgroundColorActive
        RoundedRectangle:
            size: self.size
            pos: self.pos
            radius: self.border_radius



WindowManager:
    WelcomeScreen:
    PackageSelectionScreen:


<WelcomeInterface>:
    size_hint: None, None

    RelativeLayout:
        pos: self.parent.pos
        size: self.parent.size

        BoxLayout:
            canvas.before:
                Color:
                    rgba: 1,1,1,1
                RoundedRectangle:
                    pos: self.pos
                    size: self.size
            size: self.parent.size
            orientation: "horizontal"

            spacing: 5

            Label:
                size_hint: .05, 1
                text: ""

            GridLayout:
                size_hint: .9, 1
                cols:1
                spacing: 7

                Label:
                    size_hint: 1, .1
                    text: "Welcome to the Sense Subscription Configuration App!"
                    font_size: self.height * .45
                    color: 0,0,0,1

                Label:
                    size_hint: 1, .05
                    text: ""

                BoxLayout:
                    size_hint: 1, .16
                    orientation: "horizontal"

                    GridLayout:
                        size_hint: .45, 1
                        cols: 2

                        Label:
                            text: "Site Name"
                            text_size: self.size
                            halign: "left"
                            color: 0,0,0,1

                        TextInput:
                            id: siteName
                            multiline: False
                            background_normal: "White.png"
                            background_active: "White.png"
                            cursor_color: 0,0,0,1
                            foreground_color: 0,0,0,1

                        Label:
                            text: "Bed Size of Site"
                            text_size: self.size
                            halign: "left"
                            color: 0,0,0,1

                        TextInput:
                            id: bedSize
                            text_size: self.size
                            multiline: False
                            background_normal: "White.png"
                            background_active: "White.png"
                            cursor_color: 0,0,0,1
                            foreground_color: 0,0,0,1

                        Label:
                            text: "Key Site Contact"
                            text_size: self.size
                            halign: "left"
                            color: 0,0,0,1

                        TextInput:
                            id: keySiteContact
                            multiline: False
                            background_normal: "White.png"
                            background_active: "White.png"
                            cursor_color: 0,0,0,1
                            foreground_color: 0,0,0,1

                    Label:
                        size_hint: .6, 1
                        text: ""

                Label:
                    size_hint: 1, .04
                    text: ""

                Label:
                    size_hint: 1, .1
                    text: "Departments Involved"
                    text_size: self.size
                    halign: "left"
                    color: 0,0,0,1

                BoxLayout:
                    size_hint: 1, .3
                    orientation: "horizontal"

                    GridLayout:
                        size_hint: .2, 1
                        cols: 2

                        CheckBox:
                            color: 0,0,0,1

                        Label:
                            text: "Facilties"
                            text_size: self.size
                            halign: "left"
                            color: 0,0,0,1

                        CheckBox:
                            id: facilities
                            color: 0,0,0,1

                        Label:
                            text: "Biomed"
                            text_size: self.size
                            halign: "left"
                            color: 0,0,0,1

                        CheckBox:
                            id: biomed
                            color: 0,0,0,1

                        Label:
                            text: "Clinical Services"
                            text_size: self.size
                            halign: "left"
                            color: 0,0,0,1

                        CheckBox:
                            id: clinicalServices
                            color: 0,0,0,1

                        Label:
                            text: "Pharmacy"
                            text_size: self.size
                            halign: "left"
                            color: 0,0,0,1

                        CheckBox:
                            id: pharmacy
                            color: 0,0,0,1

                        Label:
                            text: "Nursing"
                            text_size: self.size
                            halign: "left"
                            color: 0,0,0,1

                        CheckBox:
                            id: nursing
                            color: 0,0,0,1

                        Label:
                            text: "Lab"
                            text_size: self.size
                            halign: "left"
                            color: 0,0,0,1

                        CheckBox:
                            color: 0,0,0,1

                        Label:
                            text: "IT"
                            text_size: self.size
                            halign: "left"
                            color: 0,0,0,1

                        CheckBox:
                            id: IT
                            color: 0,0,0,1

                        Label:
                            text: "C-suite"
                            text_size: self.size
                            halign: "left"
                            color: 0,0,0,1

                    Label:
                        size_hint: .8, 1
                        text: ""

                Label:
                    size_hint: 1, .07
                    text: ""

                BoxLayout:
                    size_hint: 1, .07
                    orientation: "horizontal"

                    Label:
                        size_hint: .42, 1
                        text: ""

                    Button:
                        size_hint: .16, 1
                        text: "Next"
                        on_release:
                            app.root.transition = NoTransition()
                            app.root.current = "PackageSelectionScreen"

                    Label:
                        size_hint: .42, 1
                        text: ""

                Label:
                    size_hint: 1, .06
                    text: ""


            Label:
                size_hint: .05, 1
                text: ""

<WelcomeBackground>:
    AnchorLayout:
        canvas.before:
            Color:
                rgba: 0.23921568627450981, 0.5137254901960784, 0.7254901960784313, 1
            Rectangle:
                pos: self.pos
                size: self.size
        size: self.parent.size
        anchor_x: 'center'
        anchor_y: 'center'
        WelcomeInterface:
            id: interface
            size_hint: .9,.9

<WelcomeScreen>:
    name: "WelcomeScreen"
    FloatLayout:
        WelcomeBackground:
            id: background
            center: 0.5, 0.5



<PackageSelectionInterface>:
    size_hint: None, None

    options: options
    spacer: spacer

    RelativeLayout:
        pos: self.parent.pos
        size: self.parent.size

        BoxLayout:
            canvas.before:
                Color:
                    rgba: 1,1,1,1
                RoundedRectangle:
                    pos: self.pos
                    size: self.size
            size: self.parent.size
            orientation: "horizontal"

            spacing: 5

            Widget:
                size_hint: .05, 1

            BoxLayout:
                size_hint: .9, 1
                orientation: "vertical"

                Label:
                    size_hint: 1, .1
                    text: "Package Selection"
                    text_size: self.size
                    halign: "left"
                    font_size: self.height * .5
                    color: 0,0,0,1

                Widget:
                    size_hint: 1, .1

                BoxLayout:
                    size_hint: 1, .06
                    orientation: "horizontal"

                    Button:
                        size_hint: .54, 1
                        font_size: self.height * .47
                        text: "I'd like to answer some questions to select a plan"
                        background_normal: ""
                        background_down: ""
                        background_color: (0.3803921568627451, 0.6784313725490196, 0.2627450980392157, 1) if self.state == "normal" else (0.2803921568627451, 0.5784313725490196, 0.1627450980392157, 1)

                    Widget:
                        size_hint: .48, 1

                Widget:
                    size_hint: 1, .02

                BoxLayout:
                    size_hint: 1, .06
                    orientation: "horizontal"

                    Button:
                        size_hint: .4, 1
                        font_size: self.height * .47
                        text: "I know what plan to propose already"
                        background_normal: ""
                        background_down: ""
                        background_color: (0.3803921568627451, 0.6784313725490196, 0.2627450980392157, 1) if self.state == "normal" else (0.2803921568627451, 0.5784313725490196, 0.1627450980392157, 1)
                        on_release:
                            root.showOptions()

                    Widget:
                        size_hint: .6, 1

                Widget:
                    size_hint: 1, .21

                BoxLayout:
                    id: options
                    size_hint: 1, None
                    height: 0
                    orientation: "horizontal"
                    spacing: 5

                    RoundedButton:
                        size_hint: .25, 1
                        text_size : self.width, None
                        height: self.texture_size[1]
                        pos_hint: {'top': 1}
                        halign: "center"
                        valign: "center"
                        backgroundColorNormal: 0.3803921568627451, 0.6784313725490196, 0.2627450980392157, 1
                        backgroundColorActive: 0.2803921568627451, 0.5784313725490196, 0.1627450980392157, 1
                        text: "ONE\nSimplest package - meets compliance needs, basic protection against loss with world-class solution"

                    RoundedButton:
                        size_hint: .25, 1
                        text_size : self.width, None
                        height: self.texture_size[1]
                        pos_hint: {'top': 1}
                        halign: "center"
                        valign: "center"
                        backgroundColorNormal: 0.3803921568627451, 0.6784313725490196, 0.2627450980392157, 1
                        backgroundColorActive: 0.2803921568627451, 0.5784313725490196, 0.1627450980392157, 1
                        text: "TWO\nPackage that requires greatest site expertise to manage flexibility of package. Adds phone/SMS, flexibility in reports and settings"

                    RoundedButton:
                        size_hint: .25, 1
                        text_size : self.width, None
                        height: self.texture_size[1]
                        pos_hint: {'top': 1}
                        halign: "center"
                        valign: "center"
                        backgroundColorNormal: 0.3803921568627451, 0.6784313725490196, 0.2627450980392157, 1
                        backgroundColorActive: 0.2803921568627451, 0.5784313725490196, 0.1627450980392157, 1
                        text: "CHOICE\nFull-service package with best customer experience, exclusive upgrades (like Active Directory), proactive service, and full customization"

                    RoundedButton:
                        size_hint: .25, 1
                        text_size : self.width, None
                        height: self.texture_size[1]
                        pos_hint: {'top': 1}
                        halign: "center"
                        valign: "center"
                        backgroundColorNormal: 0.3803921568627451, 0.6784313725490196, 0.2627450980392157, 1
                        backgroundColorActive: 0.13921568627450981, 0.4137254901960784, 0.6254901960784313, 1
                        text: "EXCLUSIVE\nEnterprise level packages are not supported in this app and need to be configured offline at this time"

                Widget:
                    id: spacer
                    size_hint: 1, .45


            Widget:
                size_hint: .05, 1

<PackageSelectionBackground>:
    AnchorLayout:
        canvas.before:
            Color:
                rgba: 0.23921568627450981, 0.5137254901960784, 0.7254901960784313, 1
            Rectangle:
                pos: self.pos
                size: self.size
        size: self.parent.size
        anchor_x: 'center'
        anchor_y: 'center'
        PackageSelectionInterface:
            id: interface
            size_hint: .9,.9

<PackageSelectionScreen>:
    name: "PackageSelectionScreen"
    FloatLayout:
        PackageSelectionBackground:
            id: background
            center: 0.5, 0.5